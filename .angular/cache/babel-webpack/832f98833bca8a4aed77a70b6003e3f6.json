{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { HelperPaths } from './shared/classes/helper-paths';\nlet AppComponent = class AppComponent {\n  constructor() {\n    this.helperPaths = HelperPaths;\n    this.emailFormObject = new FormControl('');\n    this.tagFormObject = new FormControl('');\n  } //constructor() {}\n\n\n  ngOnInit() {\n    //let rnd = Math.random() * 10 + 100;\n    //localStorage.setItem('name' + rnd.toString(), 'Pavani' + rnd.toString());\n    //for (let i = 0; i < localStorage.length; i++) {\n    //  let key = localStorage.key(i) ? localStorage.key(i) : \"name\";\n    //console.log(localStorage.getItem(key ? key : \"name\"));\n    //}\n    this.setAngularLocalStorage();\n  }\n\n  setAngularLocalStorage() {\n    this.localStorage = window.localStorage;\n    this.storageLengthItr = Array(window.localStorage.length).fill(0);\n  }\n\n  toggleTagList() {\n    this.isListAllTags = !this.isListAllTags;\n  }\n\n  getStorageKeyByIndex(index) {\n    return window.localStorage.key(index);\n  }\n\n  setTagForReuse(keyIndex) {\n    let key = this.getStorageKeyByIndex(keyIndex);\n    let emailCsv = window.localStorage.getItem(key);\n    this.emailFormObject.setValue(emailCsv);\n    this.tagFormObject.setValue(key);\n  }\n\n  deleteTag(keyIndex) {\n    let key = this.getStorageKeyByIndex(keyIndex);\n    window.localStorage.removeItem(key);\n    this.setAngularLocalStorage();\n  }\n\n  onFormSubmit() {\n    let emailCsv = this.emailFormObject.value.trim();\n    let tag = this.tagFormObject.value.trim();\n    let emailList = emailCsv.split(';').filter(email => email.length > 0); //console.log(emailList);\n\n    if (window.localStorage.getItem(tag) === null) {\n      window.localStorage.setItem(tag, emailCsv);\n      this.setAngularLocalStorage();\n    } //for (let i = 0; i < localStorage.length; i++) {\n    //  let key = <string>localStorage.key(i);\n    //  console.log(key, localStorage.getItem(key));\n    //}\n\n  }\n\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})], AppComponent);\nexport { AppComponent };","map":null,"metadata":{},"sourceType":"module"}